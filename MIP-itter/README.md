### Иттерационные методы целочисленного программирования (MIP)

Определение проблемы: создаем бинарные переменные $x_i$ для каждого элемента $i$ и $c_{ij}$ для каждой пары элементов $(i, j)$, что указывает на то, включены ли они в текущую группу. 

$$x_i \in \{0, 1\} \quad \forall i \in \text{{nodes}}$$

$$c_{ij} \in \{0, 1\} \quad \forall (i, j) \in \text{{combinations(nodes, 2)}}$$


Определяем целевую функцию: максимизировать общий вес группы, который представлен как:

$$\max \sum_{(i,j) \in \text{{combinations(nodes, 2)}}} c_{ij} \cdot w_{ij}$$



где $w_{ij}$ - это вес каждой включенной пары элементов.

Добавляем ограничения: каждая группа должна содержать ровно 5 элементов (или меньше, если осталось менее 5 элементов), и каждое соединение между двуми элементами может быть активным только если оба элемента включены в группу. Это можно представить как:

$$\sum_{i \in \text{{nodes}}} x_i = \min(5, N)$$


$$c_{ij} \leq x_i \quad \forall (i, j) \in \text{{combinations(nodes, 2)}}$$

$$c_{ij} \leq x_j \quad \forall (i, j) \in \text{{combinations(nodes, 2)}}$$


где $N$ - это количество оставшихся элементов.

## Benchmarks

* Solver = CP-SAT

| n  | Time   |
|-----|--------|
| 10  | 0.03 s |
| 30  | 0.26 s |
| 80  | 6 s    |
| 200 | 400 s  |

* Solver SAT

| n  | Time   |
|-----|--------|
| 10  | 0.04 s |
| 30  | 0.27 s |
| 80  | 6 s    |
| 200 | 602.73 s  |

* Solver SCIP

| n  | Time    |
|-----|---------|
| 10  | 0.06 s  |
| 30  | 13.39 s |
| 80  | -       |
| 200 | -       |